<html>
    <head>
        <link rel="stylesheet" href="main.css" type="text/css">
        <title>Practice</title>
    </head>

    <body onload="startTime()" class="grid-container">

    <!-- NAV BAR -->
    
            <nav id="page-top">
                <div class="nav-title">Practice site</div>
            </nav>

    <!-- TEXT BODY  -->


            <!-- SIDEBAR MENU  -->
            <div class="sidebar">
                <div class="sidebar-header"><u>Sidebar menu</u></div>
                    <div><a href="#clock">A clock</a></div>
                    <div><a href="#game">A game</a></div>
                    <div><a href="#mouseover">A mouse event</a></div>
                    <div><a href="#calculator">A calculator</a></div>
                    <div><a href="#picture-slides">Picture slides</a></div>
            </div>

            <!-- CLOCK HTML -->
            <div id="clock" class="grid-item">
                <div>Section one: A clock</div>
                <div id="clock-js" class="clock-styling"></div>
            </div>

            <!-- GAME HTML  -->
            <div id="game" class="grid-item">
                <div>Section two: A game</div>
            </div>

            <!-- MOUSEOVER EFFECT HTML -->
            <div id="mouseover" class="grid-item">
                <div>Section three: A mouseover effect</div>
                <div id="onMouseDiv" onmouseover="mouseOn(this)" class="mouseover-div"></div>
                <button type="button" onclick="getHex()" class="get-col-but">Get colour</button>
                <div id="col-print"></div>
            </div>

            <!-- CURSER TRAIL HTML -->
            <div id="calculator" class="grid-item">
                <div>Section four: A calculator</div>
                <div class="calc-parent">

                    <div class="calculator">

                        <input type="text" class="calculator-screen" value="0" disabled />
                        
                        <div class="calculator-keys">
                            
                            <button type="button" class="operator calc-button" value="+">+</button>
                            <button type="button" class="operator calc-button" value="-">-</button>
                            <button type="button" class="operator calc-button" value="*">&times;</button>
                            <button type="button" class="operator calc-button" value="/">&divide;</button>

                            <button type="button" class="calc-button" value="7">7</button>
                            <button type="button" class="calc-button" value="8">8</button>
                            <button type="button" class="calc-button" value="9">9</button>


                            <button type="button" class="calc-button" value="4">4</button>
                            <button type="button" class="calc-button" value="5">5</button>
                            <button type="button" class="calc-button" value="6">6</button>


                            <button type="button" class="calc-button" value="1">1</button>
                            <button type="button" class="calc-button" value="2">2</button>
                            <button type="button" class="calc-button" value="3">3</button>


                            <button type="button" class="calc-button" value="0">0</button>
                            <button type="button" class="decimal function calc-button" value=".">.</button>
                            <button type="button" class="all-clear function calc-button" value="all-clear">AC</button>

                            <button type="button" class="equal-sign operator calc-button" value="=">=</button>

                        </div>
                    </div>

                </div>
            </div>

            <!-- PICTURE SLIDE HTML -->
            <div id="picture-slides" class="grid-item">
                <div>Section five: Auto changing picture slides</div>
                <div class="slideshow-container">

                    <div class="slideshow-slide">
                        <div class="slide-count slide-fade">1/4</div>
                        <img src="img/slideshow-1.jpg">
                    </div>

                    <div class="slideshow-slide slide-fade">
                        <div class="slide-count">2/4</div>
                        <img src="img/slideshow-2.jpg">
                    </div>

                    <div class="slideshow-slide slide-fade">
                        <div class="slide-count">3/4</div>
                        <img src="img/slideshow-3.jpg">
                    </div>

                    <div class="slideshow-slide slide-fade">
                        <div class="slide-count">4/4</div>
                        <img src="img/slideshow-4.jpg">
                    </div>

                </div>
            </div>


    <!-- FOOTER  -->
        <footer>
            <div class="footer-txt">footer area 1</div>
            <div class="footer-txt">footer area 2</div>
            <div class="footer-txt footer-link"><a href="#page-top">To top</a></div>
        </footer>

        <script>


            // CLOCK JS
            function startTime() {
                var today = new Date();
                var h = today.getHours();
                var m = today.getMinutes();
                var s = today.getSeconds();
                m = checkTime(m);
                s = checkTime(s);
                document.getElementById('clock-js').innerHTML =
                h + ":" + m + ":" + s;
                var t = setTimeout(startTime, 500);
            }
            function checkTime(i) {
                if (i < 10) {i = "0" + i};
                return i;
            }


            // ON HOVER EFFECT JS
            function getRandomColor() {
                var letters = '0123456789ABCDEF';
                var color = '#';
                for (var i = 0; i < 6; i++) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
            }

            function mouseOn(x) {
                x.style.backgroundColor = getRandomColor();
}
            function getHex() {
                document.getElementById("col-print").innerHTML = onMouseDiv.style.backgroundColor;
            }


            // IMAGE SLIDESHOW JS
            var slideIndex = 0;
                showSlides(slideIndex);

            function currentSlide(n) {
            showSlides(slideIndex = n);
            }

            function showSlides(n) {
                var i;
                var slides = document.getElementsByClassName("slideshow-slide");
                if (n > slides.length) {slideIndex = 1}
                if (n < 1) {slideIndex = slides.length}
                for (i = 0; i < slides.length; i++) {
                    slides[i].style.display = "none";
                }

                slideIndex++;
                if (slideIndex > slides.length) {slideIndex = 1}
                slides[slideIndex-1].style.display = "block";
                setTimeout(showSlides, 5000);
            }


            // CALCULATOR JS
            const calculator = {
            displayValue: '0',
            firstOperand: null,
            waitingForSecondOperand: false,
            operator: null,
            };

            function inputDigit(digit) {
            const { displayValue, waitingForSecondOperand } = calculator;

            if (waitingForSecondOperand === true) {
                calculator.displayValue = digit;
                calculator.waitingForSecondOperand = false;
            } else {
                calculator.displayValue = displayValue === '0' ? digit : displayValue + digit;
            }

            console.log(calculator);
            }

            function inputDecimal(dot) {
            if (calculator.waitingForSecondOperand === true) {
            calculator.displayValue = '0.'
            calculator.waitingForSecondOperand = false;
            return
  }

            if (!calculator.displayValue.includes(dot)) {
                calculator.displayValue += dot;
            }
            }

            function handleOperator(nextOperator) {
            const { firstOperand, displayValue, operator } = calculator
            const inputValue = parseFloat(displayValue);

            if (operator && calculator.waitingForSecondOperand)  {
                calculator.operator = nextOperator;
                console.log(calculator);
                return;
            }

            if (firstOperand == null && !isNaN(inputValue)) {
                calculator.firstOperand = inputValue;
            } else if (operator) {
                const result = calculate(firstOperand, inputValue, operator);
                calculator.displayValue = `${parseFloat(result.toFixed(7))}`;
                calculator.firstOperand = result;
            }

            calculator.waitingForSecondOperand = true;
            calculator.operator = nextOperator;
            console.log(calculator);
            }

            function calculate(firstOperand, secondOperand, operator) {
            if (operator === '+') {
                return firstOperand + secondOperand;
            } else if (operator === '-') {
                return firstOperand - secondOperand;
            } else if (operator === '*') {
                return firstOperand * secondOperand;
            } else if (operator === '/') {
                return firstOperand / secondOperand;
            }

            return secondOperand;
            }

            function resetCalculator() {
            calculator.displayValue = '0';
            calculator.firstOperand = null;
            calculator.waitingForSecondOperand = false;
            calculator.operator = null;
            console.log(calculator);
            }

            function updateDisplay() {
            const display = document.querySelector('.calculator-screen');
            display.value = calculator.displayValue;
            }

            updateDisplay();

            const keys = document.querySelector('.calculator-keys');

            keys.addEventListener('click', event => {
            const { target } = event;
            const { value } = target;
            if (!target.matches('button')) {
                return;
            }

            switch (value) {
                case '+':
                case '-':
                case '*':
                case '/':
                case '=':
                handleOperator(value);
                break;
                case '.':
                inputDecimal(value);
                break;
                case 'all-clear':
                resetCalculator();
                break;
                default:
                if (Number.isInteger(parseFloat(value))) {
                    inputDigit(value);
                }
            }

            updateDisplay();
            });
            
        </script>

    </body>
</html>